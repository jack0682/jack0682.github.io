# ONN Daily Log — 2026-02-13

## Continuity Carryover
- Yesterday source: `daily/2026-02-12_onn_daily.md`.
- Carryover Key Claims:
  - KC-1: calibrated delay envelope `Gamma_hat(Delta t, sigma_dt)` replaces symbolic `Gamma_delay`.
  - KC-2: `mu`-based MIMO acceptance inequality is defined using structured uncertainty `Delta`.
  - KC-3: ONN local certificate remains restricted to `Omega_eps`.
- Carryover Open Problems used today:
  - [OP-011] define `Delta_J` structure and validate `mu`-based acceptance vs scalar `H_inf`.
  - [OP-003] provide a reproducible `mu` computation recipe.
- Carryover planned step executed today: define a block-structured `Delta_J` and a practical `mu` upper-bound recipe.

## Today’s Theory Target (with rationale)
Target: define a block-structured ONN uncertainty `Delta_J` from Jacobian logs and specify a practical `mu`-upper-bound computation recipe for ORTSF acceptance.

Rationale:
- Highest leverage for correctness: the `mu` inequality is undefined without a concrete uncertainty structure and computation method.
- Highest leverage for implementation: the block structure enables direct estimation from ONN Jacobian logs.
- Highest leverage for paper integration: yields a Definition + Lemma and an experiment protocol.

## Theory Development
### Restatement
Claim IDs:
- C1: ORTSF loop transfer is `L(s) := C(s)G(s)e^{-s Delta t}` (Definition IV.7).
- C2: scalar delay margin uses `||L(j omega)||_inf < 1` (Theorem 4).
- C3: ONN local certificate `||J_onn(x)||_2 <= c_J^local` is valid only on `Omega_eps` (Algorithm 1 guard).
- C4: define block-structured `Delta_J = diag(Delta_1, ..., Delta_m)` with block weights from Jacobian logs, and compute `mu` upper bounds via D-scaling; the resulting margin is a conservative acceptance test.

Notation table:
- `Omega_eps = {x : ||g(x)|| >= epsilon}` (active region).
- `J_onn(x)` = ONN Jacobian at `x`.
- `Pi_i` = projector onto module/block `i`.
- `c_{J,i}` = block-wise bound from logs.
- `Delta = diag(Delta_J, Delta_tau)` = structured uncertainty (ONN + delay).

Core-paper anchor citations (anti-hallucination format):
- [Paper 1 | p.6 | E. Theorem 4: Delay-Small Gain Stability | "The delay margin is ∆t such that ∥L(jω)∥ < 1 for all"]
- [Paper 1 | p.6 | Definition IV.7 (ORTSF Loop Gain and Delay Margin) | "define the loop transfer function:"]
- [Paper 2 | p.4 | C. Deep Delta Learning for Gradient Stabilization | "1: if ∥g∥<ϵ then"]

### Proof audit
| Claim | Assumption Needed | Where used (anchor citation) | Status in ONN/ORTSF setting | Failure mode / counterexample |
|---|---|---|---|---|
| C1 | loop transfer defined with delay | [Paper 1 | p.6 | Definition IV.7 (ORTSF Loop Gain and Delay Margin) | "define the loop transfer function:"] | Satisfied | none |
| C2 | scalar `H_inf` margin implies delay stability | [Paper 1 | p.6 | E. Theorem 4: Delay-Small Gain Stability | "The delay margin is ∆t such that ∥L(jω)∥ < 1 for all"] | Satisfied (scalar) | MIMO structure ignored |
| C3 | local active region `Omega_eps` is valid | [Paper 2 | p.4 | C. Deep Delta Learning for Gradient Stabilization | "1: if ∥g∥<ϵ then"] | Partially justified | guard chattering or `g_min` too small |
| C4 | block partition reflects ONN modules; D-scaling upper bound is conservative | [Paper 1 | p.6 | E. Theorem 4: Delay-Small Gain Stability | "The delay margin is ∆t such that ∥L(jω)∥ < 1 for all"] | Needs proof | block structure mismatch yields optimistic `mu` |

### Strengthening
- Stronger statement: define `Delta_J` as a block-diagonal uncertainty aligned with ONN modules and estimate block norms from Jacobian logs on `Omega_eps`.
- Practical computation path: use D-scaling (`mu` upper bound) over a frequency grid to provide a conservative acceptance check; explicitly mark it as conservative and structure-dependent.
- Abstract->implementation mapping: compute block norms from JVP logs, form `W_J = diag(c_{J,1} I, ..., c_{J,m} I)`, and run `mussv`/D-K iteration on `Gamma_hat * L_nom * W_J`.

### Paper-ready patch
- Patch P-217 (Paper 1): add Definition + Lemma giving a concrete block-structured `Delta_J` and D-scaling `mu`-bound recipe.
- Patch P-218 (Paper 1): add experiment protocol for estimating block-wise `c_{J,i}` and comparing `mu` vs scalar margins.

Typst-ready insertion (for `paper/sections/05_theory.typ`, insert after Remark 7):
```text
== Definition 8 (Module-Block ONN Uncertainty)
Partition the ONN state into $m$ semantic modules with orthogonal projectors $Pi_i$. Define block-wise Jacobian bounds
$c_{J,i} := sup_{x in Omega_eps} ||Pi_i J_onn(x) Pi_i||_2$,
estimated from JVP logs. Represent ONN uncertainty by
$Delta_J := diag(Delta_1, ..., Delta_m)$ with $||Delta_i||_2 <= 1$ and weight
$W_J := diag(c_{J,1} I, ..., c_{J,m} I)$.

== Lemma 8 (Practical mu Upper Bound via D-Scaling) [Needs proof]
Let $Delta = diag(Delta_J, Delta_tau)$ and $M(j omega) := Gamma_hat(Delta t, sigma_dt) * L_nom(j omega) * W_J$. A conservative acceptance check is obtained by the D-scaling bound
$mu_Delta(M) <= inf_{D in D_struct} ||D M D^{-1}||_inf$,
computed over a frequency grid. If the resulting upper bound satisfies $sup_omega mu_Delta(M(j omega)) < 1$, the handoff is accepted as robustly stable under the assumed structure.

== Remark 8 (Structure Selection)
The module partition should follow the ontology graph or ONN block structure used in training. Overly coarse blocks make the bound too conservative; overly fine blocks risk optimistic `mu` estimates when off-diagonal coupling is strong.
```

Typst-ready insertion (for `paper/sections/06_experiments.typ`, append after the MIMO robustness check paragraph):
```text
Block-uncertainty protocol: partition the ONN Jacobian into module blocks using the ontology graph, estimate $c_{J,i}$ from JVP logs on $Omega_eps$, and assemble $W_J = diag(c_{J,1} I, ..., c_{J,m} I)$. Compute D-scaled `mu` upper bounds over frequency for $M(j omega) = Gamma_hat * L_nom * W_J$ and compare with the scalar $H_inf$ margin on the same delay sweep.
```

Rationale: resolves OP-011/OP-003 by defining `Delta_J` structure and a reproducible `mu` computation recipe.

## External Research (>=3 papers)
R-1: Marek Dlapa. “Simple Robust Controller via Evolutionary Mu-Synthesis Using Algebraic Approach for Oscillating Plant with Uncertain Time Delay and Astatism.” IFAC-PapersOnLine 58(27) (2024) 31–36. DOI: 10.1016/j.ifacol.2024.10.295. Link: https://doi.org/10.1016/j.ifacol.2024.10.295
- Hooks: D-K iteration + algebraic approach to compute structured singular value for time-delay uncertainty.
- Hooks: compares D-K vs algebraic optimization, giving a computation recipe baseline.
- Delta to our paper: add a short paragraph that our `mu` upper bound uses D-K iteration and can be validated against algebraic optimization on the same linearized ORTSF loop. Insert into Theory and Experiments.
- Decision: ACCEPTED_FOR_PAPER.

R-2: Marek Dlapa. “Structured singular value control with two-degree-of-freedom feedback loop factorization for oscillating plant with uncertain time delay and astatism.” 2024 European Control Conference (ECC 2024), pp. 3021–3026. DOI: 10.23919/ECC64448.2024.10590745. Link: https://doi.org/10.23919/ECC64448.2024.10590745
- Hooks: 2-DOF factorization gives a concrete loop-structure example for `Delta_J` + `Delta_tau` separation.
- Hooks: D-K iteration implementation details support our `mu` computation recipe.
- Delta to our paper: add a remark that 2-DOF factorization can be used to structure `Delta` in ORTSF loop modeling; use as a reference implementation for `mu` calculation.
- Decision: ACCEPTED_FOR_PAPER.

R-3: Marek Dlapa. “Two-degree-of-freedom feedback loop factorization controller for oscillating plant with uncertain time delay and astatism using structured singular value.” 2024 International Conference on Control, Automation and Diagnosis (ICCAD 2024). DOI: 10.1109/ICCAD60883.2024.10553929. Link: https://doi.org/10.1109/ICCAD60883.2024.10553929
- Hooks: D-K iteration pipeline with time-delay uncertainty.
- Hooks: provides an alternative 2-DOF factorization formulation.
- Delta to our paper: overlaps with R-2; keep as backup reference if ECC 2024 is unavailable.
- Decision: REJECTED (redundant with R-2, limited incremental detail).

## Synthesis: How today changes ONN/ORTSF / LOGOS
- The `mu`-based acceptance condition now has an explicit ONN block-uncertainty structure and a practical computation recipe.
- The local ONN certificate is mapped into block weights `c_{J,i}`, enabling a reproducible `mu` upper-bound computation.
- This hardens the interface between ONN logs and ORTSF robust acceptance checks.

## Development Actions (ranked)
1. Compute block-wise Jacobian norms `c_{J,i}` from ONN logs.
Why: parameterizes `Delta_J`.
What: block projections aligned to ontology modules.
How: JVP log aggregation on `Omega_eps`.
Risk: block partition mismatch.
Acceptance test: block norms stable across runs.

2. Implement D-scaled `mu` upper bound sweep.
Why: makes acceptance check computable.
What: frequency grid + D-scaling bound.
How: robust control toolbox `mussv` or D-K iteration.
Risk: numerical instability.
Acceptance test: bound monotone in `c_{J,i}` and `Delta t`.

3. Compare `mu` vs scalar `H_inf` margins.
Why: quantify conservativeness reduction.
What: same loop, same delay sweep.
How: overlay predicted instability boundary.
Risk: data scarcity at high delay.
Acceptance test: `mu` reduces false negatives without new false positives.

4. Validate block-structure sensitivity.
Why: avoid optimistic `mu` bound.
What: merge/split blocks and recompute bounds.
How: hierarchical partition sweep.
Risk: overfitting to module partition.
Acceptance test: bounds consistent within tolerance.

5. Add runtime guard for block-weight drift.
Why: prevent stale `c_{J,i}` values.
What: trigger recomputation when logs drift.
How: rolling window update.
Risk: runtime cost.
Acceptance test: stable acceptance decisions.

## Updated Open Problems (diff-like)
+ NEW: [OP-012] Validate block partition and D-scaling conservativeness for `Delta_J`.
~ UPDATED: [OP-011] `Delta_J` now defined as block-diagonal from Jacobian logs; needs empirical validation.

## Next-day seed (one sentence)
- 2026-02-14: compute block-wise Jacobian stats and run initial D-scaled `mu` sweeps on the ORTSF loop.
